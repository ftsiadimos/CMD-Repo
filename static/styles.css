/* ========================================
COMMAND REPOSITORY - MAIN STYLESHEET
Consolidated CSS from layout.html and index.html
======================================== */

/* ========================================
CSS CUSTOM PROPERTIES (Variables)
======================================== */
:root {
  /* Modern Color Palette */
  --primary-color: #2563eb;        /* Blue - professional, trustworthy */
  --primary-hover: #1d4ed8;       /* Darker blue for hover states */
  --secondary-color: #64748b;     /* Slate - sophisticated gray */
  --accent-color: #f59e0b;        /* Amber - warm accent color */
  --success-color: #10b981;       /* Emerald - modern green */
  --danger-color: #ef4444;        /* Red - clear error indication */
  --warning-color: #f59e0b;       /* Amber - attention-grabbing */
  --info-color: #06b6d4;          /* Cyan - informational blue */

  /* Neutral Colors */
  --bg-primary: #ffffff;          /* Pure white background */
  --bg-secondary: #f8fafc;        /* Very light gray */
  --bg-tertiary: #f1f5f9;         /* Light gray for cards */
  --bg-dark: #1e293b;            /* Dark slate for headers */

  /* Text Colors */
  --text-primary: #1e293b;        /* Dark slate for headings */
  --text-secondary: #64748b;     /* Medium gray for body text */
  --text-muted: #94a3b8;         /* Light gray for muted text */
  --text-light: #f8fafc;         /* Very light for dark backgrounds */

  /* Border Colors */
  --border-light: #e2e8f0;       /* Light border */
  --border-medium: #cbd5e1;      /* Medium border */

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #60a5fa 0%, #1e40af 100%);
  --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);

  /* Mobile background (customizable) */
  --mobile-bg: #ffffff; /* change this to tweak mobile card background */

  /* Transitions */
  --transition-speed: 0.3s;
  --transition-fast: 0.15s;
}

/* ========================================
LAYOUT AND TYPOGRAPHY
======================================== */
/* Modern system font stack for cross-platform consistency */
body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  display: flex;
  flex-direction: column;
  min-height: 100vh;  /* Full viewport height for sticky footer */
  background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
  color: var(--text-primary);
  line-height: 1.6;
}

/* Main content area grows to fill available space */
.container {
  flex: 1;
}

/* Footer stays at bottom and doesn't shrink */
footer {
  flex-shrink: 0;
  background: var(--gradient-primary);
  color: var(--text-light);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Enhanced footer text styling */
footer small {
  font-weight: 500;
  font-size: 0.9rem;
  color: var(--text-muted);
}

/* ========================================
INTERACTION AND ANIMATION
======================================== */
/* Smooth transitions for all interactive elements */
.btn, .nav-link, .form-control, .form-select {
  transition: all var(--transition-speed) ease;
}

/* ========================================
ACCESSIBILITY IMPROVEMENTS
======================================== */
/* Enhanced focus indicators for keyboard navigation */
.btn:focus, .form-control:focus, .form-select:focus, .nav-link:focus {
  box-shadow: 0 0 0 0.2rem rgba(37, 99, 235, 0.25);
  outline: none;
}

/* ========================================
BUTTON ENHANCEMENTS
======================================== */
/* Primary buttons with modern gradient */
.btn-primary {
  background: var(--gradient-primary);
  border: none;
  color: white;
  font-weight: 500;
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover {
  background: var(--primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
  color: white;
}

/* Success buttons with modern green */
.btn-success {
  background: var(--success-color);
  border: none;
  color: white;
  font-weight: 500;
}

.btn-success:hover {
  background: #059669;
  color: white;
}

/* Danger buttons with modern red */
.btn-danger {
  background: var(--danger-color);
  border: none;
  color: white;
  font-weight: 500;
}

.btn-danger:hover {
  background: #dc2626;
  color: white;
}

/* Warning buttons with modern amber */
.btn-warning {
  background: var(--warning-color);
  border: none;
  color: white;
  font-weight: 500;
}

.btn-warning:hover {
  background: #d97706;
  color: white;
}

/* ========================================
CARD ENHANCEMENTS
======================================== */
.card {
  border: none;
  border-radius: 0.75rem;
  box-shadow: var(--shadow-md);
  background: var(--mobile-bg);
  transition: all var(--transition-speed) ease;
}

.card:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

.card-header {
  background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--border-light) 100%);
  border-bottom: 1px solid var(--border-light);
  font-weight: 600;
  color: var(--text-primary);
  border-radius: 0.75rem 0.75rem 0 0 !important;
}

/* Dark card headers for white text */
.card-header.bg-primary,
.card-header.bg-info,
.card-header.bg-success,
.card-header.bg-warning,
.card-header.bg-danger,
.card-header.text-white {
  background: var(--bg-dark) !important;
  color: var(--text-light) !important;
  border-bottom: 1px solid var(--border-medium);
}

/* Specific color overrides for different header types */
.card-header.bg-primary {
  background: var(--primary-color) !important;
}

.card-header.bg-info {
  background: var(--info-color) !important;
}

.card-header.bg-success {
  background: var(--success-color) !important;
}

.card-header.bg-warning {
  background: var(--warning-color) !important;
}

.card-header.bg-danger {
  background: var(--danger-color) !important;
}

/* ========================================
TYPOGRAPHY ENHANCEMENTS
======================================== */
h1, h2, h3, h4, h5, h6 {
  color: var(--text-primary);
  font-weight: 600;
  line-height: 1.3;
}

h1 { font-size: 2.25rem; }
h2 { font-size: 1.875rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.25rem; }
h5 { font-size: 1.125rem; }
h6 { font-size: 1rem; }

/* Form labels */
.form-label {
  color: var(--text-primary);
  font-weight: 500;
  margin-bottom: 0.5rem;
}

/* Ensure all text has good contrast */
.text-muted {
  color: var(--text-muted) !important;
}

/* ========================================
NAVIGATION STYLING
======================================== */
/* Modern navigation bar with gradient background */
.navbar {
  background: var(--gradient-primary);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: var(--shadow-md);
}

/* Consistent spacing for navigation icons */
.nav-link i {
  margin-right: 0.35rem;
}

/* Visual indicator for active navigation items */
.nav-link.active {
  font-weight: 600;
  color: var(--accent-color) !important;
}

/* Enhanced navigation link hover effects */
.nav-link:hover {
  color: var(--text-light) !important;
  transform: translateY(-1px);
}

/* ========================================
TEXT TRUNCATION UTILITIES
======================================== */
/* Multi-line text truncation with ellipsis for responsive design */
.truncate-1,
.truncate-2,
.truncate-3 {
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
}
/* Single line truncation */
.truncate-1 { white-space: nowrap; }
/* Multi-line truncation using CSS line-clamp (modern browsers) */
@supports (-webkit-line-clamp: 2) {
  .truncate-1 { white-space: normal; display: -webkit-box; line-clamp: 1; -webkit-line-clamp: 1; -webkit-box-orient: vertical; }
  .truncate-2 { display: -webkit-box; line-clamp: 2; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }
  .truncate-3 { display: -webkit-box; line-clamp: 3; -webkit-line-clamp: 3; -webkit-box-orient: vertical; }
}

/* ========================================
EXPANDED ROW STYLES - Remove truncation when row is expanded
======================================== */
tr.expanded .truncate-1,
tr.expanded .truncate-2,
tr.expanded .truncate-3 {
  white-space: normal !important;        /* Allow text wrapping */
  overflow: visible !important;          /* Show all content */
  text-overflow: unset !important;       /* Remove ellipsis */
  display: block !important;             /* Override line-clamp */
  line-clamp: unset !important;          /* Remove line limit */
  -webkit-line-clamp: unset !important;  /* Remove webkit line limit */
}

/* ========================================
EXPANDED ROW VISUAL ENHANCEMENTS
======================================== */
/* Add subtle shadow and border to expanded rows for better separation */
tr.expanded {
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--border-light);
  background-color: #fff;
  transition: all var(--transition-speed) ease;              /* Smooth transition for visual changes */
}
/* Remove table stripe effect for expanded rows */
.table-striped tr.expanded:nth-child(odd) {
  background-color: #fff !important;
}

/* ========================================
EXPANSION ARROW INDICATOR
======================================== */
.expand-arrow {
  display: inline-block;
  transition: transform 0.3s ease;       /* Smooth rotation animation */
  font-size: 0.9rem;
  margin-right: 0.4rem;
  cursor: pointer;
  user-select: none;                     /* Prevent text selection */
}
/* Rotate arrow 90 degrees when row is expanded */
tr.expanded .expand-arrow { transform: rotate(90deg); }

/* ========================================
EXPAND ALL ARROW - Header arrow to toggle all rows
======================================== */
.expand-all-arrow {
  display: inline-block;
  transition: transform var(--transition-speed) ease;       /* Smooth rotation animation */
  font-size: 1rem;
  cursor: pointer;
  user-select: none;                     /* Prevent text selection */
  color: var(--text-light);             /* Light color for dark header */
  font-weight: bold;
}
/* Rotate expand-all arrow 90 degrees when all rows are expanded */
.expand-all-arrow.expanded { transform: rotate(90deg); }
/* Hover effect for expand-all arrow */
.expand-all-arrow:hover {
  color: var(--accent-color);           /* Accent color on hover */
}

/* ========================================
CLICKABLE CELLS FOR EXPANSION
======================================== */
/* Add pointer cursor to arrow cell to indicate it's clickable */
.cmd-table tbody tr td:first-child {
  cursor: pointer;
  user-select: none;                     /* Prevent text selection */
}
/* Add subtle hover effect for clickable arrow cell */
.cmd-table tbody tr:not(.expanded) td:first-child:hover {
  background-color: rgba(37, 99, 235, 0.1); /* Primary color with transparency */
}

/* ========================================
COMMAND CELL STYLING - Becomes title when expanded
======================================== */
.cmd-cell { font-family: monospace; }    /* Monospace for code readability */
tr.expanded .cmd-cell {
  white-space: pre-wrap !important;      /* Preserve formatting in expanded view */
  padding: 1rem 0.75rem;                 /* More padding for expanded state */
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover) 100%);
  border-radius: 0.5rem 0.5rem 0 0;     /* Rounded top corners */
  color: white;
  box-shadow: var(--shadow-md);
}
/* Enhanced title styling for expanded command */
tr.expanded .cmd-cell .truncate-2 {
  font-size: 1.2rem;                    /* Larger, more prominent font */
  font-weight: 600;                    /* Semi-bold for emphasis */
  display: block;
  margin-bottom: 0.25rem;              /* Space before description */
  white-space: pre-wrap !important;
  overflow: visible !important;
  text-overflow: unset !important;
  -webkit-line-clamp: unset !important;
  line-clamp: unset !important;
  color: white;                        /* White text on colored background */
  line-height: 1.4;                    /* Comfortable line height */
  font-family: 'SFMono-Regular', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', 'Courier New', monospace;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Subtle text shadow */
}

/* ========================================
TABLE LAYOUT HIDING - Hide columns when expanded
======================================== */
/* Hide non-essential columns when row is expanded to focus on content */
tr.expanded td:not(.cmd-cell):not(.desc-cell):not(:first-child) {
  display: none;
}

/* ========================================
DESCRIPTION CELL EXPANSION - Full width when expanded
======================================== */
tr.expanded .desc-cell {
  display: table-cell;
  width: 100%;                           /* Take full table width */
  padding: 0 0.75rem 1rem 0.75rem;       /* Consistent padding with command */
  background: linear-gradient(135deg, var(--bg-tertiary) 0%, #e2e8f0 100%);
  border-radius: 0 0 0.5rem 0.5rem;     /* Rounded bottom corners */
  border-top: 1px solid var(--border-light);
}

/* ========================================
DESCRIPTION TEXT FORMATTING
======================================== */
.description-text {
  white-space: pre-wrap;                 /* Preserve line breaks and spaces */
  font-family: inherit;                  /* Use parent font, not pre default */
  margin: 0;                            /* Remove default pre margin */
  line-height: 1.5;                     /* Improved line height for readability */
}
/* Enhanced readability when expanded */
tr.expanded .description-text {
  white-space: pre-wrap !important;
  font-size: 1rem;                      /* Consistent readable font size */
  line-height: 1.6;                     /* Better line spacing for reading */
  color: var(--text-primary);           /* Use theme text color */
  margin-top: 0.5rem;                   /* Space from command title */
  padding: 1rem;                        /* Breathing room around text */
  background: rgba(255, 255, 255, 0.8); /* Semi-transparent white background */
  border-radius: 0.375rem;              /* Rounded corners for modern look */
  border-left: 4px solid var(--primary-color); /* Accent border with theme color */
  box-shadow: var(--shadow-sm);         /* Subtle shadow for depth */
}

/* ========================================
COPY BUTTON STYLING
======================================== */
.copy-btn {
  opacity: 0.9;
  transition: opacity 0.12s ease;        /* Subtle hover effect */
}

/* ========================================
TABLE HEADER STYLING
======================================== */
.cmd-table .table-dark {
  background: var(--bg-dark);
  color: var(--text-light);
  border: none;
}

.cmd-table .table-dark th {
  border-bottom: 2px solid var(--border-medium);
  font-weight: 600;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 1rem 0.75rem;
}
.cmd-table th, .cmd-table td {
  vertical-align: middle;                /* Center content vertically */
  border-color: var(--border-light);     /* Use theme border color */
}

/* ========================================
TABLE BODY STYLING
======================================== */
.cmd-table {
  border-radius: 0.5rem;
  overflow: hidden;
  box-shadow: var(--shadow-md);
  background: var(--mobile-bg);
}

.cmd-table tbody tr:nth-child(odd) {
  background-color: var(--bg-secondary);
}

.cmd-table tbody tr:nth-child(even) {
  background-color: white;
}

.cmd-table tbody tr:hover {
  background-color: rgba(37, 99, 235, 0.02);
  transition: background-color var(--transition-fast) ease;
}

/* Fixed column widths for consistent layout */
.cmd-table { width: 100%; }
.cmd-table .col-arrow { width: 30px; }
.cmd-table .col-cmd { min-width: 200px; }
.cmd-table .col-desc { min-width: 180px; }
.cmd-table .col-tags { min-width: 100px; }
.cmd-table .col-date { width: 130px; white-space: nowrap; }
/* Actions column: keep compact and right-aligned */
.cmd-table .col-actions { width: 180px; white-space: nowrap; text-align: right; padding-right: 0.5rem; }

/* Card hover effect */
.card {
  transition: box-shadow var(--transition-speed) ease;
}
.card:hover {
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
}
